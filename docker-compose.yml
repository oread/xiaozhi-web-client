services:
  xiaozhi-web:
    build: .
    container_name: xiaozhi-web
    ports:
      - "5001:5001"  # Web service port
      - "5002:5002"  # WebSocket proxy port
    env_file:
      - .env
    environment:
      - WS_URL=${WS_URL:-ws://host.docker.internal:9005}
      - DEVICE_TOKEN=${DEVICE_TOKEN:-your_token}
      - WEB_PORT=${WEB_PORT:-5001}
      - PROXY_PORT=${PROXY_PORT:-5002}
    restart: unless-stopped